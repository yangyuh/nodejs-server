(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-supplier-user-user-info-user-info"],{"132d":function(t,e,r){var n=r("4cfa");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=r("4f06").default;i("6115c952",n,!0,{sourceMap:!1,shadowMode:!1})},"1a78":function(t,e,r){var n=r("6ed2");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=r("4f06").default;i("5870568c",n,!0,{sourceMap:!1,shadowMode:!1})},"1fcc":function(t,e,r){"use strict";var n=r("132d"),i=r.n(n);i.a},3049:function(t,e,r){"use strict";var n=r("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.UPDATE_USER=e.CREATE_SUPPLIER=e.GET_SUPPLIER_LIST=e.GET_MAIN_NOTICE=e.GET_BILLMAPPINGCOUNT=e.GET_PAYMENT_DAYS=e.GET_CUSTOMERGROUPSETLIST=e.UPDATE_PASSWORD=e.UPDATE_CUSTOMER_INFO=e.GET_CUSTOMER_ADDRESS_LIST=e.GET_USER_LIST=e.GET_CUSTOMER_INFO=void 0;var i=n(r("8742")),a=function(t){return i.default.request("customer/selectById",{id:t})};e.GET_CUSTOMER_INFO=a;var s=function(t){return i.default.request("user;user/list",{userId:t})};e.GET_USER_LIST=s;var u=function(t){return i.default.request("address/list",{customerId:t})};e.GET_CUSTOMER_ADDRESS_LIST=u;var o=function(t){return i.default.request("customer/update",t||{},"POST","提交中...")};e.UPDATE_CUSTOMER_INFO=o;var c=function(t){return i.default.request("user;user/updateMyPassword",t||{},"POST","提交中...")};e.UPDATE_PASSWORD=c;var l=function(t){return i.default.request("customer/customerGroupSetList",t||{})};e.GET_CUSTOMERGROUPSETLIST=l;var f=function(t){return i.default.request("customertermmapping/list",t||{})};e.GET_PAYMENT_DAYS=f;var d=function(t){return i.default.request("customertermmappingExtend/billMappingCount",t||{})};e.GET_BILLMAPPINGCOUNT=d;var p=function(t){return i.default.request("platformnoticeflow/queryByMainNoticeStatusIsOne",t||{})};e.GET_MAIN_NOTICE=p;var m=function(t){return i.default.request("supplier/list",t||{})};e.GET_SUPPLIER_LIST=m;var h=function(t){return i.default.request("supplier/create",t||{},"POST","提交中...")};e.CREATE_SUPPLIER=h;var v=function(t){return i.default.request("user;user/update",t||{},"POST")};e.UPDATE_USER=v},"49a7":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-uni-view",{staticClass:"xy-button-page"},[r("v-uni-view",{staticClass:"xy-button flex flex-x-center flex-y-center",style:{width:t.style.width,height:t.style.height,background:t.style.background}},[t._t("default")],2)],1)},i=[];r.d(e,"a",function(){return n}),r.d(e,"b",function(){return i})},"4b11":function(t,e,r){"use strict";r.r(e);var n=r("edc5"),i=r.n(n);for(var a in n)"default"!==a&&function(t){r.d(e,t,function(){return n[t]})}(a);e["default"]=i.a},"4cfa":function(t,e,r){e=t.exports=r("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */',""])},"6ed2":function(t,e,r){e=t.exports=r("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.xy-button-page[data-v-fc587484]{overflow:hidden}.xy-button-page .xy-button[data-v-fc587484]{width:100%;height:%?95?%;border-radius:%?16?%;background:#23a389;font-size:%?32?%;font-weight:700;color:#fff;margin:%?40?% auto}',""])},"95e7":function(t,e,r){"use strict";var n=r("1a78"),i=r.n(n);i.a},aba8:function(t,e,r){"use strict";r.r(e);var n=r("fea9"),i=r.n(n);for(var a in n)"default"!==a&&function(t){r.d(e,t,function(){return n[t]})}(a);e["default"]=i.a},c24d:function(t,e,r){"use strict";r.r(e);var n=r("e537"),i=r("4b11");for(var a in i)"default"!==a&&function(t){r.d(e,t,function(){return i[t]})}(a);r("1fcc");var s=r("2877"),u=Object(s["a"])(i["default"],n["a"],n["b"],!1,null,"5b363862",null);e["default"]=u.exports},e537:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-uni-view",{staticClass:"userInfo-page"},[r("v-uni-view",{staticClass:"xy-form"},[r("v-uni-view",{staticClass:"xy-form-title"},[t._v("基础信息")]),r("uni-list",[r("uni-list-item",{attrs:{title:"用户头像"},nativeOn:{click:function(e){return t.selectUploadImage(e)}}},[r("v-uni-view",{staticClass:"xy-form-headimg",attrs:{slot:"right"},slot:"right"},[t.headPicUrl?r("v-uni-image",{attrs:{src:t.IMG_URL+t.headPicUrl,mode:""}}):r("v-uni-image",{attrs:{src:"../../../../static/home_img.png",mode:""}})],1)],1),r("uni-list-item",{attrs:{"show-arrow":!1,title:"备案用户ID"}},[r("v-uni-input",{attrs:{type:"text",disabled:""},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}})],1),r("uni-list-item",{attrs:{"show-arrow":!1,title:"用户昵称"}},[r("v-uni-input",{attrs:{type:"text",placeholder:"请输入昵称(必填)"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),r("uni-list-item",{attrs:{"show-arrow":!1,title:"证件号码"}},[r("v-uni-input",{attrs:{type:"text",placeholder:"请输入证件号码(必填)"},model:{value:t.form.regId,callback:function(e){t.$set(t.form,"regId",e)},expression:"form.regId"}})],1),r("uni-list-item",{attrs:{"show-arrow":!1,title:"联系电话"}},[r("v-uni-input",{attrs:{type:"number",maxlength:11,placeholder:"请输入联系电话(必填)"},model:{value:t.form.tel,callback:function(e){t.$set(t.form,"tel",e)},expression:"form.tel"}})],1)],1),r("v-uni-view",{staticClass:"xy-form-title"},[t._v("其他信息")]),r("uni-list",[r("uni-list-item",{attrs:{"show-arrow":!1,title:"地址"}},[r("v-uni-input",{attrs:{type:"text",placeholder:"请输入地址"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),r("uni-list-item",{attrs:{"show-arrow":!1,title:"备注"}},[r("v-uni-input",{attrs:{type:"text",placeholder:"请输入备注"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1)],1),r("xyButton",{attrs:{width:"690rpx",height:"75rpx"},nativeOn:{click:function(e){return t.save(e)}}},[t._v("提交")])],1)},i=[];r.d(e,"a",function(){return n}),r.d(e,"b",function(){return i})},e54b:function(t,e,r){var n=r("268f"),i=r("85f2");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=i&&n?n(t,r):{};a.get||a.set?i(e,r,a):e[r]=t[r]}return e.default=t,e}t.exports=a},edc5:function(t,e,r){"use strict";var n=r("e54b"),i=r("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r("7f7f");var a=i(r("5176"));r("96cf");var s=i(r("3b8d")),u=i(r("ad21")),o=i(r("4369")),c=i(r("fbbb")),l=n(r("3049")),f={components:{uniList:u.default,uniListItem:o.default,xyButton:c.default},mounted:function(){this.$common.methods.doIosInputBlur()},data:function(){return{IMG_URL:this.$api.IMG_URL,headPicUrl:"",form:{id:"",name:"",regId:"",tel:"",address:"",remark:"",businessLicensePic:"",storePic:"",legalpepresentPic:""},rules:[{name:"name",checkType:"string",checkRule:"1,",errorMsg:"请输入用户昵称"},{name:"regId",checkType:"string",checkRule:"1,",errorMsg:"请输入证件号码"},{name:"tel",checkType:"string",checkRule:"1,",errorMsg:"请输入联系电话"}]}},created:function(){var t=(0,s.default)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.GET_CUSTOMER_INFO(this.$store.state.loginProvider.typeCode);case 2:e=t.sent,this.form=(0,a.default)(this.form,e),this.queryUserList();case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{queryUserList:function(){var t=(0,s.default)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.GET_USER_LIST(this.$store.state.loginProvider.userId);case 2:e=t.sent,e&&e.list&&e.list.length>0&&(this.headPicUrl=e.list[0].filePath);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),save:function(){var t=this.$common.methods.formCheck(this.form,this.rules);if(t){var e={id:this.form.id,name:this.form.name,regId:this.form.regId,tel:this.form.tel,address:this.form.address,remark:this.form.remark};this.$api.request("customer/update",e,"POST","提交中...").then(function(t){t&&0==t.state&&uni.showToast({title:"保存成功",duration:2e3,success:function(){setTimeout(function(){uni.navigateBack()},2e3)}})})}},selectUploadImage:function(){uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){var e=this,r=t.tempFilePaths,n=this.$api.UPLOAD_URL+"/imgUpload?token="+this.$store.state.loginProvider.token;uni.uploadFile({url:n,filePath:r[0],name:"file",formData:{savePath:"storeInfo"},success:function(){var t=(0,s.default)(regeneratorRuntime.mark(function t(r){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.headPicUrl=JSON.parse(r.data).aaData.path,t.next=3,l.UPDATE_USER({filePath:e.headPicUrl,userId:e.$store.state.loginUserId});case 3:n=t.sent,n&&0==n.state&&uni.showToast({title:"头像修改成功",duration:2e3});case 5:case"end":return t.stop()}},t,this)}));function r(e){return t.apply(this,arguments)}return r}()})}.bind(this)})}}};e.default=f},fbbb:function(t,e,r){"use strict";r.r(e);var n=r("49a7"),i=r("aba8");for(var a in i)"default"!==a&&function(t){r.d(e,t,function(){return i[t]})}(a);r("95e7");var s=r("2877"),u=Object(s["a"])(i["default"],n["a"],n["b"],!1,null,"fc587484",null);e["default"]=u.exports},fea9:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"xy-button",props:{width:{type:String,default:"100%"},height:{type:String,default:"95"},background:{type:String,default:"#23A389"}},data:function(){return{style:{width:this.width,height:this.height,background:this.background}}},created:function(){}};e.default=n}}]);