(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-supplier-inventory-inventory-detail-inventory-detail"],{"03d1":function(t,e,a){"use strict";var i=a("e6b6"),n=a.n(i);n.a},"0462":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"mix-load-more"},[a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:1===t.status,expression:"status === 1"}],staticClass:"mix-load-icon",attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUJCRjNGOEQ1RDNBMTFFOUFERjY5MEU0MTg5MjY0NDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUJCRjNGOEU1RDNBMTFFOUFERjY5MEU0MTg5MjY0NDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QkJGM0Y4QjVEM0ExMUU5QURGNjkwRTQxODkyNjQ0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QkJGM0Y4QzVEM0ExMUU5QURGNjkwRTQxODkyNjQ0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pkf/QQsAAAHYSURBVHjavFfRcYJAEOVu8h87SFJBSAUJNGCsIKQCsQK1AkkHpAKwAaUE7YB0kFRg3prFcWAPTziyM+uJHPvuvV32TuVZ2na79TG8wWkc8Ui2g3/z+BkEwc4mnrIAXGCYMpiN0SISLGDZCRiArxhW8Huvm5XwGRaQSzd1C8usB6jHz2aINbdijIkp59KlpWD+bmTMTNtA13AK8IRAipy+82/rlucijt1kzDnNWgBjAJUXCpHkTeBjw5RJlfMT8GazKZVSd8JkKpDkGl2xgJgLs1FwiPVwkppkcAVKxs/MpIKrJD8CHw6HWJK3C2gNXMr79AhMHQlsb4UJsYNqlmKMCJMYRwa2ZV9UjiGxjjRk9oUbucN3uBGLMLWhB+8cAjdiUWo1Ph4FiZwBG2L52vsHg7Q/9WvK8d6w9zozqJrUrzXvnw0pXAJDbmoaAXz5dxksboBOOXiuzaW+nToGLzAU57uTBDDmhj+Yaaq6evLZVoMCS8mv5OZdZhCz2RZpH/4YhDGzNrFLwDxznXMlHH3mF/ou+b5vd+t72LM6Q1ufqy2YC69pUHTKsdBpJnjNvizjvHQuLgE8D8OQCmppeM/PrXAidcuftogPDiPaTmlB1ANYoavsV4ABAGz+xJ8bzHJJAAAAAElFTkSuQmCC"}}),a("v-uni-text",{staticClass:"mix-load-text"},[t._v(t._s(t.text[t.status]))])],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},1029:function(t,e,a){var i=a("7060");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("741a9de2",i,!0,{sourceMap:!1,shadowMode:!1})},2422:function(t,e,a){"use strict";a.r(e);var i=a("947b"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},"31a5":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.inventory-detail-page[data-v-6faa2d44]{height:100%}.inventory-detail-page .header[data-v-6faa2d44]{background:#fff;padding:%?24?%}.inventory-detail-page .header .num[data-v-6faa2d44]{font-size:%?42?%;font-weight:700;color:#23a389;padding-bottom:%?6?%}.inventory-detail-page .query-select[data-v-6faa2d44]{padding:%?24?%}.inventory-detail-page .query-select .picker_btn[data-v-6faa2d44]{height:%?44?%;padding:0 %?20?%;border-radius:%?100?%;background:#fff;margin-right:%?20?%}.inventory-detail-page .query-select .date[data-v-6faa2d44]{padding-right:%?10?%}.inventory-detail-page .query-select uni-text[data-v-6faa2d44]{color:#333;opacity:.5}.inventory-detail-page .rubadge[data-v-6faa2d44]{color:#23a389;border:%?1?% solid #23a389}',""])},"434e":function(t,e,a){"use strict";a.r(e);var i=a("0462"),n=a("2422");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("50ec");var r=a("2877"),o=Object(r["a"])(n["default"],i["a"],i["b"],!1,null,"4b0ccd78",null);e["default"]=o.exports},"50ec":function(t,e,a){"use strict";var i=a("1029"),n=a.n(i);n.a},7060:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".mix-load-more[data-v-4b0ccd78]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:%?90?%\n\t/* padding-top: 10upx; */}.mix-load-icon[data-v-4b0ccd78]{display:block;width:%?36?%;height:%?36?%;margin-right:%?12?%;-webkit-animation:load-data-v-4b0ccd78 1.2s cubic-bezier(.37,1.08,.7,.74) infinite;animation:load-data-v-4b0ccd78 1.2s cubic-bezier(.37,1.08,.7,.74) infinite}.mix-load-text[data-v-4b0ccd78]{font-size:%?28?%;color:#888}@-webkit-keyframes load-data-v-4b0ccd78{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""])},8867:function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var n=i(a("3b8d")),s=i(a("5176")),r=a("8acf"),o=i(a("434e")),u={components:{mixLoadMore:o.default},data:function(){return{dateindex:0,typeindex:0,typeList:[{name:"全部"},{name:"出库"},{name:"入库"}],dateArray:[{name:"最近一周"},{name:"最近一月"},{name:"最近半年"},{name:"最近一年"}],stockCount:"",loadMoreStatus:1,stockdetailList:[],dataCount:0,queryParams:{pageNum:1,pageSize:10,customerId:this.$store.state.loginUserTypeCode,startTime:this.$common.methods.getDateStr(-7).date,endTime:this.$common.methods.getDateStr(0).date}}},onLoad:function(t){this.queryParams=(0,s.default)(this.queryParams,t),this.queryStockdetailList(),this.queryStockcount(t.storageId,t.skuId)},methods:{queryStockdetailList:function(){var t=(0,n.default)(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,r.GET_STOCKDETAIL_LIST)(this.queryParams);case 2:a=t.sent,a&&a.list&&(this.dataCount=a.dataCount,this.dataCount<=this.queryParams.pageSize&&1==this.queryParams.pageNum&&(this.loadMoreStatus=2),"feresh"==e?(this.stockdetailList=a.list,this.$refs.productPulldownRefresh&&this.$refs.productPulldownRefresh.endPulldownRefresh()):this.stockdetailList=this.stockdetailList.concat(a.list));case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),queryStockcount:function(){var t=(0,n.default)(regeneratorRuntime.mark(function t(e,a){var i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i={storageId:e,skuId:a},t.next=3,(0,r.GET_STOCKCOUNT)(i);case 3:n=t.sent,n&&n.length>0&&(this.stockCount=n[0]),console.log(n);case 6:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),loadMore:function(){if(2!==this.loadMoreStatus){this.loadMoreStatus=1;var t=Math.ceil(this.dataCount/this.queryParams.pageSize);this.queryParams.pageNum<t?(this.queryParams.pageNum++,this.queryStockdetailList()):this.loadMoreStatus=2}},bindPickerChange:function(t){switch(this.dateindex=t.target.value,this.dateindex){case"1":this.selectDate=this.$common.methods.getDateStr(-30).date;break;case"2":this.selectDate=this.$common.methods.getDateStr(-184).date;break;case"3":this.selectDate=this.$common.methods.getDateStr(-365).date;break;default:this.selectDate=this.$common.methods.getDateStr(-7).date;break}}}};e.default=u},"8acf":function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.GET_STOCKCOUNT=e.GET_STOCKDETAIL_LIST=e.CREATE_PRODUCTSTOCKINVENTORY=e.GET_PRODUCTSTOCK_LIST=e.GET_DATADIC_LIST=void 0;var n=i(a("8742")),s=function(t){return n.default.request("datadic/list",{dataType:t})};e.GET_DATADIC_LIST=s;var r=function(t){return n.default.request("productstock/list",t||{})};e.GET_PRODUCTSTOCK_LIST=r;var o=function(t){return n.default.request("productstockinventory/createRelate",t||{},"POST","提交中...")};e.CREATE_PRODUCTSTOCKINVENTORY=o;var u=function(t){return n.default.request("stockdetail/list",t||{})};e.GET_STOCKDETAIL_LIST=u;var c=function(t){return n.default.request("productstock/queryStockCount",t||{})};e.GET_STOCKCOUNT=c},"947b":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("c5f6");var i={name:"mix-load-more",props:{status:{type:Number,default:0},text:{type:Array,default:function(){return["上拉显示更多","正在加载...","没有更多数据了"]}}}};e.default=i},e457:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"inventory-detail-page"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-view",{staticClass:"num"},[a("v-uni-text",[t._v(t._s(t.stockCount.stockQuantitySkuForDecimal))])],1),a("v-uni-view",{staticClass:"flex flex-x-between"},[a("v-uni-view",[t._v("当前库存(斤)")]),a("v-uni-view",[a("v-uni-text",[t._v("库存均价：")]),a("v-uni-text",{staticStyle:{color:"#FF732B"}},[t._v("￥"+t._s(t.stockCount.avgPriceSkuForDecimal))])],1)],1)],1),a("v-uni-view",{staticClass:"query-select flex flex-x-between flex-y-center"},[a("v-uni-view",{staticClass:"flex"},[a("v-uni-view",{staticClass:"flex flex-y-center picker_btn"},[a("v-uni-view",{staticClass:"date"},[a("v-uni-picker",{attrs:{value:t.dateindex,range:t.dateArray,"range-key":"name"},on:{change:function(e){e=t.$handleEvent(e),t.bindPickerChange(e)}}},[a("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.dateArray[t.dateindex].name))])],1)],1),a("v-uni-view",{staticClass:"triangle_down"})],1),a("v-uni-view",{staticClass:"flex flex-y-center picker_btn"},[a("v-uni-view",{staticClass:"date"},[a("v-uni-picker",{attrs:{value:t.typeindex,range:t.typeList,"range-key":"name"},on:{change:function(e){e=t.$handleEvent(e),t.bindPickerChange(e)}}},[a("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.typeList[t.typeindex].name))])],1)],1),a("v-uni-view",{staticClass:"triangle_down"})],1)],1),a("v-uni-view",{staticClass:"xy-small-text"},[a("v-uni-view",[t._v("出库 180斤/￥20000.00")]),a("v-uni-view",[t._v("入库 180斤/￥20000.00")])],1)],1),a("v-uni-scroll-view",{staticStyle:{height:"calc(100% - 254upx)"},attrs:{"scroll-y":""},on:{scrolltolower:function(e){e=t.$handleEvent(e),t.loadMore()}}},[a("v-uni-view",{staticClass:"xy-list"},t._l(t.stockdetailList,function(e,i){return a("v-uni-view",{key:i,staticClass:"xy-list-item flex flex-x-between"},[a("v-uni-view",[a("v-uni-view",{staticClass:"flex flex-y-center"},[a("v-uni-view",{class:1==e.inoutType?"xy-badge rubadge":"xy-badge",staticStyle:{"margin-right":"18upx"}},[t._v(t._s(1==e.inoutType?"入库":"出库"))]),a("v-uni-view",{staticClass:"xy-blod-text"},[t._v(t._s(e.inoutTypeName))])],1),a("v-uni-view",{staticClass:"flex flex-y-center"},[a("v-uni-view",{staticClass:"xy-badge",staticStyle:{"margin-right":"18upx",opacity:"0"}}),a("v-uni-view",{},[t._v("金额￥"+t._s((e.changeStockSkuForDecimal*e.priceSkuForDecimal).toFixed(2)))])],1)],1),a("v-uni-view",{staticStyle:{"text-align":"right"}},[a("v-uni-view",{staticClass:"xy-small-text"},[t._v(t._s(e.createdDate))]),a("v-uni-view",{staticClass:"xy-blod-text"},[t._v(t._s(1==e.inoutType?"+":"-")+t._s(e.changeStockSkuForDecimal)+t._s(e.skuUnitName))])],1)],1)}),1),a("mix-load-more",{attrs:{status:t.loadMoreStatus}})],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},e6b6:function(t,e,a){var i=a("31a5");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("20a4bcbd",i,!0,{sourceMap:!1,shadowMode:!1})},f689:function(t,e,a){"use strict";a.r(e);var i=a("8867"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},fc09:function(t,e,a){"use strict";a.r(e);var i=a("e457"),n=a("f689");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("03d1");var r=a("2877"),o=Object(r["a"])(n["default"],i["a"],i["b"],!1,null,"6faa2d44",null);e["default"]=o.exports}}]);