(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-supplier-order-buy-add-buy-order-add-buy-order"],{"0462":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"mix-load-more"},[n("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:1===t.status,expression:"status === 1"}],staticClass:"mix-load-icon",attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUJCRjNGOEQ1RDNBMTFFOUFERjY5MEU0MTg5MjY0NDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUJCRjNGOEU1RDNBMTFFOUFERjY5MEU0MTg5MjY0NDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QkJGM0Y4QjVEM0ExMUU5QURGNjkwRTQxODkyNjQ0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QkJGM0Y4QzVEM0ExMUU5QURGNjkwRTQxODkyNjQ0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pkf/QQsAAAHYSURBVHjavFfRcYJAEOVu8h87SFJBSAUJNGCsIKQCsQK1AkkHpAKwAaUE7YB0kFRg3prFcWAPTziyM+uJHPvuvV32TuVZ2na79TG8wWkc8Ui2g3/z+BkEwc4mnrIAXGCYMpiN0SISLGDZCRiArxhW8Huvm5XwGRaQSzd1C8usB6jHz2aINbdijIkp59KlpWD+bmTMTNtA13AK8IRAipy+82/rlucijt1kzDnNWgBjAJUXCpHkTeBjw5RJlfMT8GazKZVSd8JkKpDkGl2xgJgLs1FwiPVwkppkcAVKxs/MpIKrJD8CHw6HWJK3C2gNXMr79AhMHQlsb4UJsYNqlmKMCJMYRwa2ZV9UjiGxjjRk9oUbucN3uBGLMLWhB+8cAjdiUWo1Ph4FiZwBG2L52vsHg7Q/9WvK8d6w9zozqJrUrzXvnw0pXAJDbmoaAXz5dxksboBOOXiuzaW+nToGLzAU57uTBDDmhj+Yaaq6evLZVoMCS8mv5OZdZhCz2RZpH/4YhDGzNrFLwDxznXMlHH3mF/ou+b5vd+t72LM6Q1ufqy2YC69pUHTKsdBpJnjNvizjvHQuLgE8D8OQCmppeM/PrXAidcuftogPDiPaTmlB1ANYoavsV4ABAGz+xJ8bzHJJAAAAAElFTkSuQmCC"}}),n("v-uni-text",{staticClass:"mix-load-text"},[t._v(t._s(t.text[t.status]))])],1)},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},"06fd":function(t,e,n){"use strict";n.r(e);var i=n("7d21"),r=n("d4b9");for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);n("ed6f");var s=n("2877"),u=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"eb624ca6",null);e["default"]=u.exports},"0ad7":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.uni-popup[data-v-8fd77e54]{position:fixed;top:0;bottom:0;left:0;right:0;z-index:99999;overflow:hidden}.uni-popup__mask[data-v-8fd77e54]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:998;background:rgba(0,0,0,.4);opacity:0}.uni-popup__mask.ani[data-v-8fd77e54]{-webkit-transition:all .3s;-o-transition:all .3s;transition:all .3s}.uni-popup__mask.uni-bottom[data-v-8fd77e54],.uni-popup__mask.uni-center[data-v-8fd77e54],.uni-popup__mask.uni-top[data-v-8fd77e54]{opacity:1}.uni-popup__wrapper[data-v-8fd77e54]{position:absolute;z-index:999;-webkit-box-sizing:border-box;box-sizing:border-box}.uni-popup__wrapper.ani[data-v-8fd77e54]{-webkit-transition:all .3s;-o-transition:all .3s;transition:all .3s}.uni-popup__wrapper.top[data-v-8fd77e54]{top:0;left:0;width:100%;-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%)}.uni-popup__wrapper.bottom[data-v-8fd77e54]{bottom:0;left:0;width:100%;-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%)}.uni-popup__wrapper.center[data-v-8fd77e54]{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);opacity:0}.uni-popup__wrapper-box[data-v-8fd77e54]{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}.uni-popup__wrapper.uni-custom .uni-popup__wrapper-box[data-v-8fd77e54]{background:#fff}.uni-popup__wrapper.uni-custom.center .uni-popup__wrapper-box[data-v-8fd77e54]{position:relative;max-width:80%;max-height:80%;overflow-y:scroll}.uni-popup__wrapper.uni-custom.bottom .uni-popup__wrapper-box[data-v-8fd77e54],.uni-popup__wrapper.uni-custom.top .uni-popup__wrapper-box[data-v-8fd77e54]{width:100%;max-height:500px;overflow-y:scroll}.uni-popup__wrapper.uni-bottom[data-v-8fd77e54],.uni-popup__wrapper.uni-top[data-v-8fd77e54]{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}.uni-popup__wrapper.uni-center[data-v-8fd77e54]{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1}',""])},1029:function(t,e,n){var i=n("7060");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("4f06").default;r("741a9de2",i,!0,{sourceMap:!1,shadowMode:!1})},"156d":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.add-buy-order-page[data-v-eb624ca6]{height:100%}.add-buy-order-page .xy-form-title[data-v-eb624ca6]{color:#999;padding:%?22?% %?24?%}.add-buy-order-page .products-table[data-v-eb624ca6]{background:#fff;margin-top:%?24?%;border-bottom:%?1?% solid #e5e5e5}',""])},"1a78":function(t,e,n){var i=n("6ed2");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("4f06").default;r("5870568c",i,!0,{sourceMap:!1,shadowMode:!1})},2422:function(t,e,n){"use strict";n.r(e);var i=n("947b"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=r.a},"2b82":function(t,e,n){var i=n("156d");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("4f06").default;r("ec480134",i,!0,{sourceMap:!1,shadowMode:!1})},3049:function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.UPDATE_USER=e.CREATE_SUPPLIER=e.GET_SUPPLIER_LIST=e.GET_MAIN_NOTICE=e.GET_BILLMAPPINGCOUNT=e.GET_PAYMENT_DAYS=e.GET_CUSTOMERGROUPSETLIST=e.UPDATE_PASSWORD=e.UPDATE_CUSTOMER_INFO=e.GET_CUSTOMER_ADDRESS_LIST=e.GET_USER_LIST=e.GET_CUSTOMER_INFO=void 0;var r=i(n("8742")),a=function(t){return r.default.request("customer/selectById",{id:t})};e.GET_CUSTOMER_INFO=a;var s=function(t){return r.default.request("user;user/list",{userId:t})};e.GET_USER_LIST=s;var u=function(t){return r.default.request("address/list",{customerId:t})};e.GET_CUSTOMER_ADDRESS_LIST=u;var o=function(t){return r.default.request("customer/update",t||{},"POST","提交中...")};e.UPDATE_CUSTOMER_INFO=o;var c=function(t){return r.default.request("user;user/updateMyPassword",t||{},"POST","提交中...")};e.UPDATE_PASSWORD=c;var l=function(t){return r.default.request("customer/customerGroupSetList",t||{})};e.GET_CUSTOMERGROUPSETLIST=l;var d=function(t){return r.default.request("customertermmapping/list",t||{})};e.GET_PAYMENT_DAYS=d;var p=function(t){return r.default.request("customertermmappingExtend/billMappingCount",t||{})};e.GET_BILLMAPPINGCOUNT=p;var f=function(t){return r.default.request("platformnoticeflow/queryByMainNoticeStatusIsOne",t||{})};e.GET_MAIN_NOTICE=f;var v=function(t){return r.default.request("supplier/list",t||{})};e.GET_SUPPLIER_LIST=v;var h=function(t){return r.default.request("supplier/create",t||{},"POST","提交中...")};e.CREATE_SUPPLIER=h;var m=function(t){return r.default.request("user;user/update",t||{},"POST")};e.UPDATE_USER=m},"434e":function(t,e,n){"use strict";n.r(e);var i=n("0462"),r=n("2422");for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);n("50ec");var s=n("2877"),u=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"4b0ccd78",null);e["default"]=u.exports},"49a7":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"xy-button-page"},[n("v-uni-view",{staticClass:"xy-button flex flex-x-center flex-y-center",style:{width:t.style.width,height:t.style.height,background:t.style.background}},[t._t("default")],2)],1)},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},"50ec":function(t,e,n){"use strict";var i=n("1029"),r=n.n(i);r.a},5116:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniPopup",props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},custom:{type:Boolean,default:!1},maskClick:{type:Boolean,default:!0},show:{type:Boolean,default:!0}},data:function(){return{ani:"",showPopup:!1}},watch:{show:function(t){t?this.open():this.close()}},created:function(){},methods:{clear:function(){},open:function(){var t=this;this.$emit("change",{show:!0}),this.showPopup=!0,this.$nextTick(function(){setTimeout(function(){t.ani="uni-"+t.type},30)})},close:function(t){var e=this;!this.maskClick&&t||(this.$emit("change",{show:!1}),this.ani="",this.$nextTick(function(){setTimeout(function(){e.showPopup=!1},300)}))}}};e.default=i},5177:function(t,e,n){var i=n("0ad7");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("4f06").default;r("2e120632",i,!0,{sourceMap:!1,shadowMode:!1})},"5f09":function(t,e,n){"use strict";n.r(e);var i=n("6007"),r=n("7d82");for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);n("ea70");var s=n("2877"),u=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"8fd77e54",null);e["default"]=u.exports},6007:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPopup?n("v-uni-view",{staticClass:"uni-popup"},[n("v-uni-view",{staticClass:"uni-popup__mask",class:[t.ani,t.animation?"ani":"",t.custom?"":"uni-custom"],on:{click:function(e){e=t.$handleEvent(e),t.close(!0)}}}),n("v-uni-view",{staticClass:"uni-popup__wrapper",class:[t.type,t.ani,t.animation?"ani":"",t.custom?"":"uni-custom"],on:{click:function(e){e=t.$handleEvent(e),t.close(!0)}}},[n("v-uni-view",{staticClass:"uni-popup__wrapper-box",on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.clear(e)}}},[t._t("default")],2)],1)],1):t._e()},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},"6ed2":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.xy-button-page[data-v-fc587484]{overflow:hidden}.xy-button-page .xy-button[data-v-fc587484]{width:100%;height:%?95?%;border-radius:%?16?%;background:#23a389;font-size:%?32?%;font-weight:700;color:#fff;margin:%?40?% auto}',""])},7060:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".mix-load-more[data-v-4b0ccd78]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:%?90?%\n\t/* padding-top: 10upx; */}.mix-load-icon[data-v-4b0ccd78]{display:block;width:%?36?%;height:%?36?%;margin-right:%?12?%;-webkit-animation:load-data-v-4b0ccd78 1.2s cubic-bezier(.37,1.08,.7,.74) infinite;animation:load-data-v-4b0ccd78 1.2s cubic-bezier(.37,1.08,.7,.74) infinite}.mix-load-text[data-v-4b0ccd78]{font-size:%?28?%;color:#888}@-webkit-keyframes load-data-v-4b0ccd78{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""])},"7d21":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"add-buy-order-page"},[n("v-uni-scroll-view",{staticStyle:{height:"calc(100% - 96upx)"},attrs:{"scroll-y":"","scroll-with-animation":""}},[n("v-uni-view",{staticClass:"xy-form-title"},[t._v("客户信息")]),n("uni-list",{staticClass:"xy-form"},[n("uni-list-item",{attrs:{"show-arrow":!0,title:"供应商"},nativeOn:{click:function(e){return t.openPopup("selectBuyserPopup")}}},[n("v-uni-view",{staticClass:"xy-form-selcet-text",attrs:{slot:"right"},slot:"right"}),t.selectedSupplier?n("v-uni-view",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.selectedSupplier.name))]):n("v-uni-view",{staticClass:"xy-form-selcet-text",attrs:{slot:"right"},slot:"right"},[t._v("请选择供应商")])],1)],1),n("v-uni-view",{staticClass:"products-table"},[n("v-uni-view",{staticClass:"table-title flex flex-x-between flex-y-center"},[n("v-uni-view",[t._v("商品明细")]),n("v-uni-view",{staticClass:"flex flex-y-center",on:{click:function(e){e=t.$handleEvent(e),t.toaddSkuPage(e)}}},[n("v-uni-image",{staticStyle:{width:"32upx",height:"32upx"},attrs:{src:"../../../../static/xjdd_icon_add.png"}}),n("v-uni-text",[t._v("添加商品")])],1)],1),n("v-uni-view",{staticClass:"table"},[n("v-uni-view",{staticClass:"table-head"},[n("v-uni-view",{staticClass:"tr flex"},[n("v-uni-view",{staticClass:"flex-item-1"},[t._v("商品")]),n("v-uni-view",{staticClass:"flex-item-1"},[t._v("单价（元）")]),n("v-uni-view",{staticClass:"flex-item-1"},[t._v("需求量")]),n("v-uni-view",{staticClass:"flex-item-1"},[t._v("小计")])],1)],1),t.selectedProductList.length>0?n("v-uni-view",{staticClass:"table-body"},t._l(t.selectedProductList,function(e,i){return n("v-uni-view",{key:i,staticClass:"tr flex"},[n("v-uni-view",{staticClass:"flex-item-1",staticStyle:{"text-align":"left"}},[n("v-uni-view",{staticClass:"flex flex-y-center"},[n("v-uni-image",{staticStyle:{width:"32upx",height:"32upx","margin-right":"8upx"},attrs:{src:"../../../../static/xjdd_icon_trash.png"},on:{click:function(n){n=t.$handleEvent(n),t.del(e)}}}),n("v-uni-text",{staticClass:"pro-name ellipsis"},[t._v(t._s(e.skuName))])],1)],1),n("v-uni-view",{staticClass:"flex-item-1 flex flex-y-center"},[n("v-uni-input",{staticClass:"order-input",attrs:{type:"number"},on:{input:function(e){e=t.$handleEvent(e),t.getTotal(e)}},model:{value:e.skuPrice,callback:function(n){t.$set(e,"skuPrice",n)},expression:"d.skuPrice"}})],1),n("v-uni-view",{staticClass:"flex-item-1 flex flex-y-center"},[n("v-uni-input",{staticClass:"order-input",attrs:{type:"number"},on:{blur:function(e){e=t.$handleEvent(e),t.getTotal(e)}},model:{value:e.quantity,callback:function(n){t.$set(e,"quantity",n)},expression:"d.quantity"}}),n("v-uni-text",[t._v(t._s(e.skuMeasureName))])],1),n("v-uni-view",{staticClass:"flex-item-1"},[t._v(t._s((e.quantity*e.skuPrice).toFixed(2)))])],1)}),1):t._e(),t.selectedProductList.length>0?n("v-uni-view",{staticClass:"table-footer flex flex-x-end"},[n("v-uni-view",{staticClass:"flex flex-y-center"},[n("v-uni-view",[t._v("合计：")]),n("v-uni-text",[t._v("￥"+t._s(t.total))])],1)],1):t._e()],1)],1)],1),n("v-uni-view",{staticClass:"xy-footer-nav flex flex-y-center"},[n("v-uni-view",{staticClass:"hj flex-item-1"},[t._v("￥"+t._s(t.total))]),n("v-uni-view",{staticClass:"flex flex-y-center flex-x-center btn",on:{click:function(e){e=t.$handleEvent(e),t.save(0)}}},[t._v("保存草稿")]),n("v-uni-view",{staticClass:"flex flex-y-center flex-x-center btn",staticStyle:{background:"#FF732B"},on:{click:function(e){e=t.$handleEvent(e),t.save(1)}}},[t._v("确认下单")])],1),n("uni-popup",{ref:"selectBuyserPopup",attrs:{type:"bottom"},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),e=t.$handleEvent(e),t.moveHandle(e)}}},[n("v-uni-view",{staticClass:"xy-popup"},[n("v-uni-view",{staticClass:"xy-popup-header flex flex-x-between flex-y-center"},[n("v-uni-text",{},[t._v("请选择供应商")]),n("v-uni-view",{staticClass:"flex-item-1 xy-popup-search flex flex-y-center"},[n("uni-icon",{attrs:{type:"search",size:"16"}}),n("v-uni-input",{attrs:{type:"text",placeholder:"搜索供应商"},model:{value:t.supplierKey,callback:function(e){t.supplierKey=e},expression:"supplierKey"}})],1),n("v-uni-image",{staticStyle:{width:"44upx",height:"44upx"},attrs:{src:"../../../../static/icon_close.png"},on:{click:function(e){e=t.$handleEvent(e),t.closePopup("selectBuyserPopup")}}})],1),n("v-uni-scroll-view",{staticStyle:{height:"600upx"},attrs:{"scroll-y":"","scroll-with-animation":""}},[t.supplierList.length>0?n("v-uni-view",{staticClass:"xy-list"},t._l(t.supplierList,function(e,i){return n("v-uni-view",{key:i,staticClass:"xy-list-item flex flex-x-between",on:{click:function(n){n=t.$handleEvent(n),t.selectedSupplier=e}}},[n("v-uni-text",[t._v(t._s(e.name+"("+e.tel+")"))]),e==t.selectedSupplier?n("v-uni-image",{staticStyle:{width:"40upx",height:"32upx"},attrs:{src:"../../../../static/xzkh_img_right.png"}}):t._e()],1)}),1):n("mix-load-more",{attrs:{status:2}})],1),n("v-uni-view",{staticClass:"xy-popup-footer flex flex-xy-center",on:{click:function(e){e=t.$handleEvent(e),t.$common.methods.toPage("/pages/supplier/supplier/add-supplier/add-supplier")}}},[t._v("新增供应商")])],1)],1)],1)},r=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r})},"7d82":function(t,e,n){"use strict";n.r(e);var i=n("5116"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=r.a},"947b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("c5f6");var i={name:"mix-load-more",props:{status:{type:Number,default:0},text:{type:Array,default:function(){return["上拉显示更多","正在加载...","没有更多数据了"]}}}};e.default=i},"95e7":function(t,e,n){"use strict";var i=n("1a78"),r=n.n(i);r.a},aba8:function(t,e,n){"use strict";n.r(e);var i=n("fea9"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=r.a},d4b9:function(t,e,n){"use strict";n.r(e);var i=n("d62f"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=r.a},d62f:function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("f499"));n("7f7f"),n("96cf");var a=i(n("3b8d")),s=i(n("5d73")),u=i(n("ad21")),o=i(n("4369")),c=i(n("5f09")),l=i(n("fbbb")),d=i(n("ca7d")),p=i(n("434e")),f=n("3049"),v=n("fd5e"),h={components:{uniList:u.default,uniListItem:o.default,uniPopup:c.default,xyButton:l.default,uniIcon:d.default,mixLoadMore:p.default},watch:{supplierKey:function(t,e){var n={name:t};this.querySupplierList(n)}},onShow:function(){if(this.$store.state.selelcted_skus){this.selectedProductList=this.$store.state.selelcted_skus;var t=!0,e=!1,n=void 0;try{for(var i,r=(0,s.default)(this.selectedProductList);!(t=(i=r.next()).done);t=!0){var a=i.value;this.total+=a.quantity*a.skuPrice}}catch(u){e=!0,n=u}finally{try{t||null==r.return||r.return()}finally{if(e)throw n}}}},data:function(){return{supplierList:[],selectedSupplier:"",supplierKey:"",total:0,remark:"",selectedProductList:[]}},onLoad:function(){this.querySupplierList()},methods:{save:function(){var t=(0,a.default)(regeneratorRuntime.mark(function t(e){var n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.selectedSupplier){t.next=3;break}return uni.showModal({showCancel:!1,content:"请选择供应商"}),t.abrupt("return");case 3:if(0!=this.selectedProductList.length){t.next=6;break}return uni.showModal({showCancel:!1,content:"请添加商品"}),t.abrupt("return");case 6:return n={supplierId:this.selectedSupplier.id,supplierName:this.selectedSupplier.name,orderTotal:this.total,itemCount:this.selectedProductList.length,status:e,remark:this.remark,customerId:this.$store.state.loginProvider.typeCode,customerName:this.$store.state.loginProvider.nickName,purcOrderItemList:(0,r.default)(this.selectedProductList)},t.next=9,(0,v.CREATE_PURC_ORDER)(n);case 9:i=t.sent,i&&0==i.state&&uni.showToast({title:"保存成功",duration:2e3,success:function(){setTimeout(function(){uni.navigateBack()},2e3)}});case 11:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),querySupplierList:function(){var t=(0,a.default)(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,f.GET_SUPPLIER_LIST)(e);case 2:n=t.sent,n&&(this.supplierList=n.list);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getTotal:function(){var t=0,e=!0,n=!1,i=void 0;try{for(var r,a=(0,s.default)(this.selectedProductList);!(e=(r=a.next()).done);e=!0){var u=r.value;t+=u.quantity*u.skuPrice}}catch(o){n=!0,i=o}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}this.total=t.toFixed(2)},toaddSkuPage:function(){this.$common.methods.toPage("/pages/supplier/order-sell/order-addproduct-list/order-addproduct-list",{from:"addBuyOrder"})},openPopup:function(t){this.$refs[t].open()},closePopup:function(t){this.$refs[t].close()}}};e.default=h},ea70:function(t,e,n){"use strict";var i=n("5177"),r=n.n(i);r.a},ed6f:function(t,e,n){"use strict";var i=n("2b82"),r=n.n(i);r.a},fbbb:function(t,e,n){"use strict";n.r(e);var i=n("49a7"),r=n("aba8");for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);n("95e7");var s=n("2877"),u=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"fc587484",null);e["default"]=u.exports},fd5e:function(t,e,n){"use strict";var i=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.FORMAT_DISTRIBUTE_TIME=e.UPDATE_PURC_ORDER=e.CREATE_PURC_ORDER=e.GET_BUYORDER_ITEM=e.GET_BUYORDER_LIST=e.BATCH_UPDATE_AFTERSORT=e.BATCH_UPDATE_BEFORESORT=e.BATCH_UPDATE_BEFORCHECK=e.REFUSE_ORDER=e.ACCEPT_ORDER=e.CREATE_ORDER_MERCHANT=e.GET_PRODUCT_SKU=e.GET_LSIT_BYUSER=e.GET_BUYER_LIST=e.GET_SELLORDER_LIST=void 0,n("28a5");var r=i(n("8742")),a=function(t){return r.default.request("order/sellerOrderList",t||{})};e.GET_SELLORDER_LIST=a;var s=function(t){return r.default.request("order/queryBuyerByLike",t||{})};e.GET_BUYER_LIST=s;var u=function(t){return r.default.request("order/listByUser",t||{})};e.GET_LSIT_BYUSER=u;var o=function(t){return r.default.request("product/listBySKU",t||{})};e.GET_PRODUCT_SKU=o;var c=function(t){return r.default.request("order/orderCreateByMobile",t||{},"POST","提交中...")};e.CREATE_ORDER_MERCHANT=c;var l=function(t){return r.default.request("order/batchCheck",t||{})};e.ACCEPT_ORDER=l;var d=function(t){return r.default.request("order/refuse",t||{})};e.REFUSE_ORDER=d;var p=function(t){return r.default.request("orderitem/batchUpdateBeforCheck",t||{},"POST","提交中...")};e.BATCH_UPDATE_BEFORCHECK=p;var f=function(t){return r.default.request("orderitem/batchUpdateBeforeSort",t||{},"POST","提交中...")};e.BATCH_UPDATE_BEFORESORT=f;var v=function(t){return r.default.request("orderitem/batchUpdateAfterSort",t||{},"POST","提交中...")};e.BATCH_UPDATE_AFTERSORT=v;var h=function(t){return r.default.request("purcOrder/list",t||{})};e.GET_BUYORDER_LIST=h;var m=function(t){return r.default.request("purcOrderitem/list",t||{})};e.GET_BUYORDER_ITEM=m;var _=function(t){return r.default.request("purcOrder/createPurcOrderAndPurcOrderItem",t||{},"POST","提交中...")};e.CREATE_PURC_ORDER=_;var b=function(t){return r.default.request("purcOrder/update",t||{},"POST","提交中...")};e.UPDATE_PURC_ORDER=b;var x=function(t,e){if(t&&e){var n=t.split(" ")[0],i=t.split(" ")[1].substring(0,2),r=e.split(" ")[1].substring(0,2);return"".concat(n," ").concat(i,":00-").concat(r,":00")}console.log("没有传入参数")};e.FORMAT_DISTRIBUTE_TIME=x},fea9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"xy-button",props:{width:{type:String,default:"100%"},height:{type:String,default:"95"},background:{type:String,default:"#23A389"}},data:function(){return{style:{width:this.width,height:this.height,background:this.background}}},created:function(){}};e.default=i}}]);