(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-supplier-order-sell-add-sell-order-add-sell-order"],{"043c":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.add-sell-order-page[data-v-35c00c67]{height:100%}.add-sell-order-page .xy-form-title[data-v-35c00c67]{color:#999;padding:%?22?% %?24?%}.add-sell-order-page .distributionPopup .xy-btn[data-v-35c00c67]{width:%?160?%;color:#333;margin-right:%?60?%}.add-sell-order-page .distributionPopup .xy-btn.active[data-v-35c00c67]{color:#23a389;font-weight:600}.add-sell-order-page .distributionPopup .data-time-picker[data-v-35c00c67]{height:%?540?%}.add-sell-order-page .distributionPopup .data-time-picker .left[data-v-35c00c67]{height:100%;width:%?200?%;overflow-y:auto;background:#f4f4f4}.add-sell-order-page .distributionPopup .data-time-picker .left .date-item[data-v-35c00c67]{height:%?68?%;background:#f4f4f4}.add-sell-order-page .distributionPopup .data-time-picker .left .date-item.active[data-v-35c00c67]{background:#fff}.add-sell-order-page .distributionPopup .data-time-picker .right[data-v-35c00c67]{width:%?550?%;height:100%}.add-sell-order-page .distributionPopup .data-time-picker .right .xy-btn[data-v-35c00c67]{width:%?492?%!important;height:%?60?%;margin-right:0;margin:%?24?% auto 0}.add-sell-order-page .distributionPopup .data-time-picker .right .xy-btn[data-v-35c00c67]:last-child{margin-bottom:%?24?%}.add-sell-order-page .adress[data-v-35c00c67]{text-align:right}',""])},"0ad7":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.uni-popup[data-v-8fd77e54]{position:fixed;top:0;bottom:0;left:0;right:0;z-index:99999;overflow:hidden}.uni-popup__mask[data-v-8fd77e54]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:998;background:rgba(0,0,0,.4);opacity:0}.uni-popup__mask.ani[data-v-8fd77e54]{-webkit-transition:all .3s;-o-transition:all .3s;transition:all .3s}.uni-popup__mask.uni-bottom[data-v-8fd77e54],.uni-popup__mask.uni-center[data-v-8fd77e54],.uni-popup__mask.uni-top[data-v-8fd77e54]{opacity:1}.uni-popup__wrapper[data-v-8fd77e54]{position:absolute;z-index:999;-webkit-box-sizing:border-box;box-sizing:border-box}.uni-popup__wrapper.ani[data-v-8fd77e54]{-webkit-transition:all .3s;-o-transition:all .3s;transition:all .3s}.uni-popup__wrapper.top[data-v-8fd77e54]{top:0;left:0;width:100%;-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%)}.uni-popup__wrapper.bottom[data-v-8fd77e54]{bottom:0;left:0;width:100%;-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%)}.uni-popup__wrapper.center[data-v-8fd77e54]{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);opacity:0}.uni-popup__wrapper-box[data-v-8fd77e54]{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}.uni-popup__wrapper.uni-custom .uni-popup__wrapper-box[data-v-8fd77e54]{background:#fff}.uni-popup__wrapper.uni-custom.center .uni-popup__wrapper-box[data-v-8fd77e54]{position:relative;max-width:80%;max-height:80%;overflow-y:scroll}.uni-popup__wrapper.uni-custom.bottom .uni-popup__wrapper-box[data-v-8fd77e54],.uni-popup__wrapper.uni-custom.top .uni-popup__wrapper-box[data-v-8fd77e54]{width:100%;max-height:500px;overflow-y:scroll}.uni-popup__wrapper.uni-bottom[data-v-8fd77e54],.uni-popup__wrapper.uni-top[data-v-8fd77e54]{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}.uni-popup__wrapper.uni-center[data-v-8fd77e54]{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1}',""])},1252:function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("28a5");var s=n(i("f499"));i("7f7f"),i("96cf");var r=n(i("3b8d")),a=n(i("5d73")),o=n(i("ad21")),u=n(i("4369")),c=n(i("5f09")),d=n(i("fbbb")),l=n(i("91b5")),p=n(i("ca7d")),f=i("fd5e"),v=i("3049"),h=i("f5bd"),m={components:{uniList:o.default,uniListItem:u.default,uniPopup:c.default,xyButton:d.default,wPicker:l.default,uniIcon:p.default},data:function(){return{comment:"",total:0,buyerList:[],buyerKey:"",selectedBuyer:"",buyerAdressList:[],selectedAdress:"",distributionInfo:{distributionType:1,isToday:0,distributionDate:this.$common.methods.getDateStr(1).date,distributionTimeBegin:"09:00",distributionTimeEnd:"10:00"},selectedProductList:[],distributionOptions:[{name:"物流配送",value:1},{name:"自提",value:0}],todayOptions:[{name:"次日",value:0},{name:"今日",value:1}],leftDateArray:[],rightTimeArray:[],storeInfo:""}},watch:{buyerKey:function(t,e){console.log(t);var i={key:t};this.queryBuyerList(i)},selectedBuyer:function(t,e){this.queryCustomerAddressList(t.buyerId)}},onLoad:function(){this.queryBuyerList(),this.initDistributionPicker()},onShow:function(){if(this.$store.state.selelcted_skus){this.selectedProductList=this.$store.state.selelcted_skus;var t=!0,e=!1,i=void 0;try{for(var n,s=(0,a.default)(this.selectedProductList);!(t=(n=s.next()).done);t=!0){var r=n.value;this.total+=r.quantity*r.skuPrice}}catch(o){e=!0,i=o}finally{try{t||null==s.return||s.return()}finally{if(e)throw i}}}},mounted:function(){this.$common.methods.doIosInputBlur()},methods:{orderCreateByMerchant:function(){var t=(0,r.default)(regeneratorRuntime.mark(function t(){var e,i,n,r,a,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=[],this.selectedProductList.map(function(t){var i={};i.price=(100*t.skuPrice).toFixed(2)-0,i.quantity=t.quantity,i.productId=t.id,i.productName=t.name,i.skuId=t.skuId,i.oriPrice=(100*t.basePrice).toFixed(2)-0,i.itemTotal=(t.skuPrice*t.quantity).toFixed(2)-0,i.baseMeasure=t.measureMethod,i.skuMeasure=t.measureMethod,i.chargingModel=t.chargingModel,i.skuName=t.skuName,i.skuMeasureName=t.skuMeasureName,i.skuPicUrl=t.skuPicUrl,i.productPicUrl=t.productPicUrl,e.push(i)}),i={buyerId:this.selectedBuyer.buyerId,sellerId:this.$store.state.loginProvider.typeCode,distributionType:this.distributionInfo.distributionType,comment:this.comment,shippingAdd:this.selectedAdress.completeAddress,shippingAddId:this.selectedAdress.id,distributionTimeBegin:"".concat(this.distributionInfo.distributionDate," ").concat(this.distributionInfo.distributionTimeBegin,":00"),distributionTimeEnd:"".concat(this.distributionInfo.distributionDate," ").concat(this.distributionInfo.distributionTimeEnd,":00"),buyerTel:this.selectedAdress.phoneNumber,contacts:this.selectedAdress.contacts,orderitems:e.length>0?(0,s.default)(e):""},n=[{name:"buyerId",checkType:"string",checkRule:"1,",errorMsg:"请选择客户"},{name:"shippingAddId",checkType:"string",checkRule:"1,",errorMsg:"请选择收货地址"},{name:"orderitems",checkType:"string",checkRule:"1,",errorMsg:"请添加商品"}],0==i.distributionType&&(delete i.distributionTimeBegin,delete i.distributionTimeEnd,delete i.shippingAddId,delete i.shippingAdd,n=[{name:"buyerId",checkType:"string",checkRule:"1,",errorMsg:"请选择客户"},{name:"orderitems",checkType:"string",checkRule:"1,",errorMsg:"请添加商品"}]),r=this.$common.methods.formCheck(i,n),!r){t.next=11;break}return t.next=9,(0,f.CREATE_ORDER_MERCHANT)(i);case 9:a=t.sent,a&&a.list.length>0&&a.list[0].orderUmber&&uni.showToast({title:"下单成功",duration:2e3,success:function(){setTimeout(function(){this.$store.state.selelcted_skus=[],uni.navigateBack()}.bind(o),2e3)}});case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),geTotal:function(){console.log(this.selectedProductList);var t=0,e=!0,i=!1,n=void 0;try{for(var s,r=(0,a.default)(this.selectedProductList);!(e=(s=r.next()).done);e=!0){var o=s.value;t+=o.quantity*o.skuPrice}}catch(u){i=!0,n=u}finally{try{e||null==r.return||r.return()}finally{if(i)throw n}}this.total=t.toFixed(2)},queryBuyerList:function(){var t=(0,r.default)(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,f.GET_BUYER_LIST)(e);case 2:i=t.sent,i&&(this.buyerList=i.list);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),queryCustomerAddressList:function(){var t=(0,r.default)(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,v.GET_CUSTOMER_ADDRESS_LIST)(e);case 2:i=t.sent,i&&i.dataCount>0?(this.buyerAdressList=i.list,this.selectedAdress=this.buyerAdressList[0]):(this.buyerAdressList=[],this.selectedAdress="");case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),openPopup:function(t){this.$refs[t].open()},closePopup:function(t){this.$refs[t].close()},del:function(t){var e=this;this.selectedProductList.map(function(i,n){i.skuId==t.skuId&&e.selectedProductList.splice(n,1)}),this.geTotal()},distributionClick:function(t,e){if(e)if(0==this.storeInfo.distributionToday)uni.showModal({showCancel:!1,content:"店铺未设置今日配送"});else{var i=new Date,n=i.getHours()+1;if(n>=this.storeInfo.distributionEnd)return void uni.showModal({showCancel:!1,content:"已超过店铺今日配送时间段，只能选择次日配送"});if(this.distributionInfo.isToday=t,1==t){var s,r,a=new Date,o=a.getHours()+1,u=o+1;s=o<10?"0".concat(o,":00"):"".concat(o,":00"),r=u<10?"0".concat(u,":00"):"".concat(u,":00"),this.distributionInfo.distributionTimeBegin=s,this.distributionInfo.distributionTimeEnd=r,this.distributionInfo.distributionDate=this.$common.methods.getDateStr(0).date}else{var c,d,l=this.storeInfo.distributionStart,p=l+1;c=l<10?"0".concat(l,":00"):"".concat(l,":00"),d=p<10?"0".concat(p,":00"):"".concat(p,":00"),this.distributionInfo.distributionTimeBegin=c,this.distributionInfo.distributionTimeEnd=d,this.distributionInfo.distributionDate=this.$common.methods.getDateStr(1).date}this.initLeftDate(this.storeInfo)}else this.distributionInfo.distributionType=t},toaddSkuPage:function(){this.$common.methods.toPage("/pages/supplier/order-sell/order-addproduct-list/order-addproduct-list")},initDistributionPicker:function(){var t=this;(0,h.GET_STORE_INFO)(this.$store.state.loginProvider.typeCode).then(function(e){t.storeInfo=e,t.initDistributionInfo(e),t.initLeftDate(e)})},initLeftDate:function(t){var e,i,n;this.leftDateArray=[],0==this.distributionInfo.isToday?n=1:(e=new Date,i=e.getHours()+1,n=0,n=i>=t.distributionEnd?1:0);for(var s=n;s<=t.period;s++){var r={};r.value=this.$common.methods.getDateStr(s).date,this.distributionInfo.distributionDate==r.value?r.active=!0:r.active=!1,this.leftDateArray.push(r)}this.initRightTime(t,this.distributionInfo.distributionDate)},initRightTime:function(t,e){this.rightTimeArray=[];var i=t.distributionStart,n=new Date;1==this.distributionInfo.isToday&&e==this.$common.methods.getDateStr(0).date&&(i=n.getHours()+1,i>t.distributionEnd&&(i=t.distributionStart));while(i<t.distributionEnd){var s=void 0,r=i+1,a=void 0,o=void 0;a=i<10?"0".concat(i,":00"):"".concat(i,":00"),o=r<10?"0".concat(r,":00"):"".concat(r,":00"),s="".concat(a,"-").concat(o),i+=1;var u={value:s},c="".concat(this.distributionInfo.distributionTimeBegin,"-").concat(this.distributionInfo.distributionTimeEnd);u.active=s==c,this.rightTimeArray.push(u)}},initDistributionInfo:function(t){var e=new Date,i=e.getHours()+1;if(this.distributionInfo.isToday=t.distributionToday,0==this.distributionInfo.isToday)this.distributionInfo.distributionDate=this.$common.methods.getDateStr(1).date,this.distributionInfo.distributionTimeBegin=t.distributionStart<10?"0".concat(t.distributionStart,":00"):"".concat(t.distributionStart,":00"),this.distributionInfo.distributionTimeEnd=t.distributionStart+1<10?"0".concat(t.distributionStart+1,":00"):"".concat(t.distributionStart+1,":00");else if(i>=t.distributionEnd)this.distributionInfo.isToday=0,this.distributionInfo.distributionDate=this.$common.methods.getDateStr(1).date,this.distributionInfo.distributionTimeBegin=t.distributionStart<10?"0".concat(t.distributionStart,":00"):"".concat(t.distributionStart,":00"),this.distributionInfo.distributionTimeEnd=t.distributionStart+1<10?"0".concat(t.distributionStart+1,":00"):"".concat(t.distributionStart+1,":00");else{var n=i;this.distributionInfo.distributionDate=this.$common.methods.getDateStr(0).date,this.distributionInfo.distributionTimeBegin=n<10?"0".concat(n,":00"):"".concat(n,":00"),this.distributionInfo.distributionTimeEnd=n+1<10?"0".concat(n+1,":00"):"".concat(n+1,":00")}},setLeftDate:function(t){this.initRightTime(this.storeInfo,t.value),this.rightTimeArray.map(function(t){t.active=!1}),this.rightTimeArray[0].active=!0,this.distributionInfo.distributionTimeBegin=this.rightTimeArray[0].value.split("-")[0],this.distributionInfo.distributionTimeEnd=this.rightTimeArray[0].value.split("-")[1],this.leftDateArray.map(function(t){t.active=!1}),t.active||(t.active=!0),this.distributionInfo.distributionDate=t.value},setRightTime:function(t){this.rightTimeArray.map(function(t){t.active=!1}),t.active||(t.active=!0),this.distributionInfo.distributionTimeBegin=t.value.split("-")[0],this.distributionInfo.distributionTimeEnd=t.value.split("-")[1]}}};e.default=m},3049:function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.UPDATE_USER=e.CREATE_SUPPLIER=e.GET_SUPPLIER_LIST=e.GET_MAIN_NOTICE=e.GET_BILLMAPPINGCOUNT=e.GET_PAYMENT_DAYS=e.GET_CUSTOMERGROUPSETLIST=e.UPDATE_PASSWORD=e.UPDATE_CUSTOMER_INFO=e.GET_CUSTOMER_ADDRESS_LIST=e.GET_USER_LIST=e.GET_CUSTOMER_INFO=void 0;var s=n(i("8742")),r=function(t){return s.default.request("customer/selectById",{id:t})};e.GET_CUSTOMER_INFO=r;var a=function(t){return s.default.request("user;user/list",{userId:t})};e.GET_USER_LIST=a;var o=function(t){return s.default.request("address/list",{customerId:t})};e.GET_CUSTOMER_ADDRESS_LIST=o;var u=function(t){return s.default.request("customer/update",t||{},"POST","提交中...")};e.UPDATE_CUSTOMER_INFO=u;var c=function(t){return s.default.request("user;user/updateMyPassword",t||{},"POST","提交中...")};e.UPDATE_PASSWORD=c;var d=function(t){return s.default.request("customer/customerGroupSetList",t||{})};e.GET_CUSTOMERGROUPSETLIST=d;var l=function(t){return s.default.request("customertermmapping/list",t||{})};e.GET_PAYMENT_DAYS=l;var p=function(t){return s.default.request("customertermmappingExtend/billMappingCount",t||{})};e.GET_BILLMAPPINGCOUNT=p;var f=function(t){return s.default.request("platformnoticeflow/queryByMainNoticeStatusIsOne",t||{})};e.GET_MAIN_NOTICE=f;var v=function(t){return s.default.request("supplier/list",t||{})};e.GET_SUPPLIER_LIST=v;var h=function(t){return s.default.request("supplier/create",t||{},"POST","提交中...")};e.CREATE_SUPPLIER=h;var m=function(t){return s.default.request("user;user/update",t||{},"POST")};e.UPDATE_USER=m},"3e86":function(t,e,i){"use strict";var n=i("d8ab"),s=i.n(n);s.a},5116:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniPopup",props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},custom:{type:Boolean,default:!1},maskClick:{type:Boolean,default:!0},show:{type:Boolean,default:!0}},data:function(){return{ani:"",showPopup:!1}},watch:{show:function(t){t?this.open():this.close()}},created:function(){},methods:{clear:function(){},open:function(){var t=this;this.$emit("change",{show:!0}),this.showPopup=!0,this.$nextTick(function(){setTimeout(function(){t.ani="uni-"+t.type},30)})},close:function(t){var e=this;!this.maskClick&&t||(this.$emit("change",{show:!1}),this.ani="",this.$nextTick(function(){setTimeout(function(){e.showPopup=!1},300)}))}}};e.default=n},5177:function(t,e,i){var n=i("0ad7");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("4f06").default;s("2e120632",n,!0,{sourceMap:!1,shadowMode:!1})},"5f09":function(t,e,i){"use strict";i.r(e);var n=i("6007"),s=i("7d82");for(var r in s)"default"!==r&&function(t){i.d(e,t,function(){return s[t]})}(r);i("ea70");var a=i("2877"),o=Object(a["a"])(s["default"],n["a"],n["b"],!1,null,"8fd77e54",null);e["default"]=o.exports},6007:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showPopup?i("v-uni-view",{staticClass:"uni-popup"},[i("v-uni-view",{staticClass:"uni-popup__mask",class:[t.ani,t.animation?"ani":"",t.custom?"":"uni-custom"],on:{click:function(e){e=t.$handleEvent(e),t.close(!0)}}}),i("v-uni-view",{staticClass:"uni-popup__wrapper",class:[t.type,t.ani,t.animation?"ani":"",t.custom?"":"uni-custom"],on:{click:function(e){e=t.$handleEvent(e),t.close(!0)}}},[i("v-uni-view",{staticClass:"uni-popup__wrapper-box",on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.clear(e)}}},[t._t("default")],2)],1)],1):t._e()},s=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s})},"769a":function(t,e,i){"use strict";i.r(e);var n=i("1252"),s=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e["default"]=s.a},"7d82":function(t,e,i){"use strict";i.r(e);var n=i("5116"),s=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e["default"]=s.a},d8ab:function(t,e,i){var n=i("043c");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("4f06").default;s("ce79ff88",n,!0,{sourceMap:!1,shadowMode:!1})},da95:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"add-sell-order-page"},[i("v-uni-scroll-view",{staticStyle:{height:"calc(100% - 96upx)"},attrs:{"scroll-y":"","scroll-with-animation":""}},[i("v-uni-view",{staticClass:"xy-form-title"},[t._v("客户信息")]),i("uni-list",{staticClass:"xy-form"},[i("uni-list-item",{attrs:{"show-arrow":!0,title:"客户"},nativeOn:{click:function(e){return t.openPopup("selectBuyserPopup")}}},[t.selectedBuyer?i("v-uni-view",{attrs:{slot:"right"},slot:"right"},[t._v(t._s(t.selectedBuyer.buyerName))]):i("v-uni-view",{staticClass:"xy-form-selcet-text",attrs:{slot:"right"},slot:"right"},[t._v("请选择客户")])],1),i("uni-list-item",{attrs:{"show-arrow":!0,title:"配送"},nativeOn:{click:function(e){return t.openPopup("distributionPopup")}}},[t.distributionInfo?i("v-uni-view",{staticClass:"adress",attrs:{slot:"right"},slot:"right"},[i("v-uni-view",[t._v(t._s(1==t.distributionInfo.distributionType?"物流配送":"自提"))]),1==t.distributionInfo.distributionType?[i("v-uni-view",[t._v(t._s(1==t.distributionInfo.isToday?"今日":"次日"))]),i("v-uni-view",[t._v(t._s(t.distributionInfo.distributionDate)+" "+t._s(t.distributionInfo.distributionTimeBegin)+"-"+t._s(t.distributionInfo.distributionTimeEnd))])]:t._e()],2):i("v-uni-view",{staticClass:"xy-form-selcet-text",attrs:{slot:"right"},slot:"right"},[t._v("请选配送信息")])],1),1==t.distributionInfo.distributionType?i("uni-list-item",{attrs:{"show-arrow":!0,title:"收货信息"},nativeOn:{click:function(e){return t.openPopup("adressPopup")}}},[t.selectedAdress?i("v-uni-view",{staticClass:"adress",attrs:{slot:"right"},slot:"right"},[i("v-uni-view",[t._v(t._s(t.selectedAdress.completeAddress))]),i("v-uni-view",[t._v(t._s(t.selectedAdress.contacts)+" "+t._s(t.selectedAdress.phoneNumber))])],1):i("v-uni-view",{staticClass:"xy-form-selcet-text",attrs:{slot:"right"},slot:"right"},[t._v("请选收货信息")])],1):t._e(),i("uni-list-item",{attrs:{"show-arrow":!1,title:"备注"}},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入订单备注"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1),i("v-uni-view",{staticClass:"products-table"},[i("v-uni-view",{staticClass:"table-title flex flex-x-between flex-y-center"},[i("v-uni-view",[t._v("商品明细")]),i("v-uni-view",{staticClass:"flex flex-y-center",on:{click:function(e){e=t.$handleEvent(e),t.toaddSkuPage(e)}}},[i("v-uni-image",{staticStyle:{width:"32upx",height:"32upx"},attrs:{src:"../../../../static/xjdd_icon_add.png"}}),i("v-uni-text",[t._v("添加商品")])],1)],1),i("v-uni-view",{staticClass:"table"},[i("v-uni-view",{staticClass:"table-head"},[i("v-uni-view",{staticClass:"tr flex"},[i("v-uni-view",{staticClass:"flex-item-1"},[t._v("商品")]),i("v-uni-view",{staticClass:"flex-item-1"},[t._v("单价（元）")]),i("v-uni-view",{staticClass:"flex-item-1"},[t._v("需求量")]),i("v-uni-view",{staticClass:"flex-item-1"},[t._v("小计")])],1)],1),t.selectedProductList.length>0?i("v-uni-view",{staticClass:"table-body"},t._l(t.selectedProductList,function(e,n){return i("v-uni-view",{key:n,staticClass:"tr flex"},[i("v-uni-view",{staticClass:"flex-item-1",staticStyle:{"text-align":"left"}},[i("v-uni-view",{staticClass:"flex flex-y-center"},[i("v-uni-image",{staticStyle:{width:"32upx",height:"32upx","margin-right":"8upx"},attrs:{src:"../../../../static/xjdd_icon_trash.png"},on:{click:function(i){i=t.$handleEvent(i),t.del(e)}}}),i("v-uni-text",{staticClass:"pro-name ellipsis"},[t._v(t._s(e.skuName))])],1)],1),i("v-uni-view",{staticClass:"flex-item-1 flex flex-y-center"},[i("v-uni-input",{staticClass:"order-input",attrs:{type:"number"},on:{input:function(e){e=t.$handleEvent(e),t.geTotal(e)}},model:{value:e.skuPrice,callback:function(i){t.$set(e,"skuPrice",i)},expression:"d.skuPrice"}})],1),i("v-uni-view",{staticClass:"flex-item-1 flex flex-y-center"},[i("v-uni-input",{staticClass:"order-input",attrs:{type:"number"},on:{blur:function(e){e=t.$handleEvent(e),t.geTotal(e)}},model:{value:e.quantity,callback:function(i){t.$set(e,"quantity",i)},expression:"d.quantity"}}),i("v-uni-text",[t._v(t._s(e.skuMeasureName))])],1),i("v-uni-view",{staticClass:"flex-item-1"},[t._v(t._s((e.quantity*e.skuPrice).toFixed(2)))])],1)}),1):t._e(),t.selectedProductList.length>0?i("v-uni-view",{staticClass:"table-footer flex flex-x-end"},[i("v-uni-view",{staticClass:"flex flex-y-center"},[i("v-uni-view",[t._v("合计：")]),i("v-uni-text",[t._v("￥"+t._s(t.total))])],1)],1):t._e()],1)],1)],1),i("v-uni-view",{staticClass:"xy-footer-nav flex flex-y-center"},[i("v-uni-view",{staticClass:"hj flex-item-1"},[t._v("￥"+t._s(t.total))]),i("v-uni-view",{staticClass:"qp flex-item-1"},[i("v-uni-view",{},[t._v("起配金额")]),i("v-uni-text",[t._v("￥00.00")])],1),i("v-uni-view",{staticClass:"flex flex-y-center flex-x-center btn",on:{click:function(e){e=t.$handleEvent(e),t.orderCreateByMerchant(e)}}},[t._v("确认下单")])],1),i("uni-popup",{ref:"selectBuyserPopup",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"xy-popup"},[i("v-uni-view",{staticClass:"xy-popup-header flex flex-x-between flex-xy-center"},[i("v-uni-text",{},[t._v("请选择客户")]),i("v-uni-view",{staticClass:"flex-item-1 xy-popup-search flex flex-y-center"},[i("uni-icon",{attrs:{type:"search",size:"16"}}),i("v-uni-input",{attrs:{type:"text",placeholder:"搜索采购商"},model:{value:t.buyerKey,callback:function(e){t.buyerKey=e},expression:"buyerKey"}})],1),i("v-uni-image",{staticStyle:{width:"44upx",height:"44upx"},attrs:{src:"../../../../static/icon_close.png"},on:{click:function(e){e=t.$handleEvent(e),t.closePopup("selectBuyserPopup")}}})],1),i("v-uni-scroll-view",{staticStyle:{height:"600upx"},attrs:{"scroll-y":"","scroll-with-animation":""}},[t.buyerList.length>0?i("v-uni-view",{staticClass:"xy-list"},t._l(t.buyerList,function(e,n){return i("v-uni-view",{key:n,staticClass:"xy-list-item flex flex-x-between",on:{click:function(i){i=t.$handleEvent(i),t.selectedBuyer=e}}},[i("v-uni-text",[t._v(t._s(e.buyerName+"("+e.buyerTel+")"))]),e==t.selectedBuyer?i("v-uni-image",{staticStyle:{width:"40upx",height:"32upx"},attrs:{src:"../../../../static/xzkh_img_right.png"}}):t._e()],1)}),1):t._e()],1),i("v-uni-view",{staticClass:"xy-popup-footer flex flex-xy-center",on:{click:function(e){e=t.$handleEvent(e),t.$common.methods.toPage("/pages/supplier/customer/add-customer/add-customer")}}},[t._v("新增客户")])],1)],1),i("uni-popup",{ref:"adressPopup",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"xy-popup"},[i("v-uni-view",{staticClass:"xy-popup-header flex flex-x-between flex-xy-center"},[i("v-uni-text",{},[t._v("收货信息")]),i("v-uni-image",{staticStyle:{width:"44upx",height:"44upx"},attrs:{src:"../../../../static/icon_close.png"},on:{click:function(e){e=t.$handleEvent(e),t.closePopup("adressPopup")}}})],1),i("v-uni-scroll-view",{staticStyle:{height:"600upx"},attrs:{"scroll-y":"","scroll-with-animation":""}},[t.buyerAdressList.length>0?i("v-uni-view",{staticClass:"xy-list"},t._l(t.buyerAdressList,function(e,n){return i("v-uni-view",{key:n,staticClass:"xy-list-item flex flex-x-between flex-y-center",on:{click:function(i){i=t.$handleEvent(i),t.selectedAdress=e}}},[i("v-uni-view",[i("v-uni-text",[t._v(t._s(e.completeAddress))]),i("v-uni-view",{staticClass:"xy-small-text"},[t._v(t._s(t.selectedAdress.contacts)+" "+t._s(t.selectedAdress.phoneNumber))])],1),e==t.selectedAdress?i("v-uni-image",{staticStyle:{width:"40upx",height:"32upx"},attrs:{src:"../../../../static/xzkh_img_right.png"}}):t._e()],1)}),1):t._e()],1),i("v-uni-view",{staticClass:"xy-popup-footer flex flex-xy-center",on:{click:function(e){e=t.$handleEvent(e),t.$common.methods.toPage("/pages/supplier/customer/add-customer/add-customer")}}},[t._v("新增收货地址")])],1)],1),i("uni-popup",{ref:"distributionPopup",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"xy-popup distributionPopup"},[i("v-uni-view",{staticClass:"xy-popup-header flex flex-x-between flex-xy-center"},[i("v-uni-text",{},[t._v("配送信息")]),i("v-uni-image",{staticStyle:{width:"44upx",height:"44upx"},attrs:{src:"../../../../static/icon_close.png"},on:{click:function(e){e=t.$handleEvent(e),t.closePopup("distributionPopup")}}})],1),i("v-uni-scroll-view",{staticStyle:{height:"800upx"},attrs:{"scroll-y":"","scroll-with-animation":""}},[i("v-uni-view",{staticClass:"xy-list"},[i("v-uni-view",{staticClass:"xy-list-item"},[i("v-uni-view",{staticClass:"btns flex"},t._l(t.distributionOptions,function(e){return i("v-uni-view",{key:e.value,class:e.value==t.distributionInfo.distributionType?"xy-btn active":"xy-btn",on:{click:function(i){i=t.$handleEvent(i),t.distributionClick(e.value)}}},[t._v(t._s(e.name))])}),1)],1),i("v-uni-view",{staticClass:"xy-list-item"},[i("v-uni-view",{staticClass:"xy-small-text",staticStyle:{"margin-bottom":"24upx"}},[t._v("送货时间")]),i("v-uni-view",{staticClass:"btns flex"},t._l(t.todayOptions,function(e){return i("v-uni-view",{key:e.value,class:e.value==t.distributionInfo.isToday?"xy-btn active":"xy-btn",on:{click:function(i){i=t.$handleEvent(i),t.distributionClick(e.value,!0)}}},[t._v(t._s(e.name))])}),1)],1)],1),i("v-uni-view",{staticClass:"data-time-picker flex"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-scroll-view",{staticStyle:{height:"100%"},attrs:{"scroll-y":""}},t._l(t.leftDateArray,function(e,n){return i("v-uni-view",{key:n,class:e.active?"date-item flex flex-xy-center active":"date-item flex flex-xy-center",on:{click:function(i){i=t.$handleEvent(i),t.setLeftDate(e)}}},[t._v(t._s(e.value))])}),1)],1),i("v-uni-view",{staticClass:"right"},[i("v-uni-scroll-view",{staticStyle:{height:"100%"},attrs:{"scroll-y":""}},t._l(t.rightTimeArray,function(e,n){return i("v-uni-view",{key:n,class:e.active?"xy-btn active":"xy-btn",on:{click:function(i){i=t.$handleEvent(i),t.setRightTime(e)}}},[t._v(t._s(e.value))])}),1)],1)],1)],1)],1)],1)],1)},s=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s})},deb1:function(t,e,i){"use strict";i.r(e);var n=i("da95"),s=i("769a");for(var r in s)"default"!==r&&function(t){i.d(e,t,function(){return s[t]})}(r);i("3e86");var a=i("2877"),o=Object(a["a"])(s["default"],n["a"],n["b"],!1,null,"35c00c67",null);e["default"]=o.exports},ea70:function(t,e,i){"use strict";var n=i("5177"),s=i.n(n);s.a},f5bd:function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.GET_STORE_REPUTATION=e.GET_STORE_INFO=e.GET_STORE_LIST=void 0;var s=n(i("795b")),r=n(i("8742")),a=function(t){return r.default.request("store/list",{sellerId:t})};e.GET_STORE_LIST=a;var o=function(t){return r.default.request("store/queryBySellerId",{sellerId:t})};e.GET_STORE_INFO=o;var u=function(t){return new s.default(function(e,i){r.default.request("reputation/list",{customerId:t}).then(function(t){var i={reputationVal:5,reputationLevel:"A"};if(t.length>0)switch(t.aaData[0].reputationLevel){case"A":i.reputationVal=5,i.reputationLevel="A";break;case"B":i.reputationVal=4,i.reputationLevel="B";break;case"C":i.reputationVal=3,i.reputationLevel="C";break;case"D":i.reputationVal=2,i.reputationLevel="D";break;default:i.reputationVal=1,i.reputationLevel="E";break}e(i)})})};e.GET_STORE_REPUTATION=u},fd5e:function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.FORMAT_DISTRIBUTE_TIME=e.UPDATE_PURC_ORDER=e.CREATE_PURC_ORDER=e.GET_BUYORDER_ITEM=e.GET_BUYORDER_LIST=e.BATCH_UPDATE_AFTERSORT=e.BATCH_UPDATE_BEFORESORT=e.BATCH_UPDATE_BEFORCHECK=e.REFUSE_ORDER=e.ACCEPT_ORDER=e.CREATE_ORDER_MERCHANT=e.GET_PRODUCT_SKU=e.GET_LSIT_BYUSER=e.GET_BUYER_LIST=e.GET_SELLORDER_LIST=void 0,i("28a5");var s=n(i("8742")),r=function(t){return s.default.request("order/sellerOrderList",t||{})};e.GET_SELLORDER_LIST=r;var a=function(t){return s.default.request("order/queryBuyerByLike",t||{})};e.GET_BUYER_LIST=a;var o=function(t){return s.default.request("order/listByUser",t||{})};e.GET_LSIT_BYUSER=o;var u=function(t){return s.default.request("product/listBySKU",t||{})};e.GET_PRODUCT_SKU=u;var c=function(t){return s.default.request("order/orderCreateByMobile",t||{},"POST","提交中...")};e.CREATE_ORDER_MERCHANT=c;var d=function(t){return s.default.request("order/batchCheck",t||{})};e.ACCEPT_ORDER=d;var l=function(t){return s.default.request("order/refuse",t||{})};e.REFUSE_ORDER=l;var p=function(t){return s.default.request("orderitem/batchUpdateBeforCheck",t||{},"POST","提交中...")};e.BATCH_UPDATE_BEFORCHECK=p;var f=function(t){return s.default.request("orderitem/batchUpdateBeforeSort",t||{},"POST","提交中...")};e.BATCH_UPDATE_BEFORESORT=f;var v=function(t){return s.default.request("orderitem/batchUpdateAfterSort",t||{},"POST","提交中...")};e.BATCH_UPDATE_AFTERSORT=v;var h=function(t){return s.default.request("purcOrder/list",t||{})};e.GET_BUYORDER_LIST=h;var m=function(t){return s.default.request("purcOrderitem/list",t||{})};e.GET_BUYORDER_ITEM=m;var b=function(t){return s.default.request("purcOrder/createPurcOrderAndPurcOrderItem",t||{},"POST","提交中...")};e.CREATE_PURC_ORDER=b;var _=function(t){return s.default.request("purcOrder/update",t||{},"POST","提交中...")};e.UPDATE_PURC_ORDER=_;var y=function(t,e){if(t&&e){var i=t.split(" ")[0],n=t.split(" ")[1].substring(0,2),s=e.split(" ")[1].substring(0,2);return"".concat(i," ").concat(n,":00-").concat(s,":00")}console.log("没有传入参数")};e.FORMAT_DISTRIBUTE_TIME=y}}]);